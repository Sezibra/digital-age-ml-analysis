<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TriLog | Training & Competition Journal</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Barlow:wght@400;600;700&family=Space+Grotesk:wght@500;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
      integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
      crossorigin=""
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="background-shape shape-1"></div>
    <div class="background-shape shape-2"></div>
    <header class="hero">
      <div>
        <p class="kicker">Personal Sports Hub</p>
        <h1>Track every session. Visualize your progress. Relive every race.</h1>
        <p>
          Log gym, swimming, and running trainings and competitions. View daily/weekly totals,
          trends, race map, and your certificate library in one place.
        </p>
      </div>
      <div class="hero-stats" id="heroStats"></div>
    </header>

    <main class="layout">
      <section class="panel">
        <h2>Add Activity</h2>
        <form id="activityForm" class="grid-form">
          <label>
            Date
            <input type="date" name="date" required />
          </label>
          <label>
            Category
            <select name="category" required>
              <option value="gym">Gym</option>
              <option value="swimming">Swimming</option>
              <option value="running">Running</option>
            </select>
          </label>
          <label>
            Type
            <select name="entryType" id="entryType" required>
              <option value="training">Training</option>
              <option value="competition">Competition</option>
            </select>
          </label>
          <label>
            Title
            <input type="text" name="title" placeholder="Morning intervals" required />
          </label>
          <label>
            Duration (minutes)
            <input type="number" name="duration" min="0" step="1" value="0" />
          </label>
          <label>
            Distance (km)
            <input type="number" name="distance" min="0" step="0.1" value="0" />
          </label>
          <label>
            Personal Time
            <input type="text" name="time" placeholder="e.g., 42:18" />
          </label>
          <label>
            Placement
            <input type="text" name="placement" placeholder="e.g., 12 / 340" />
          </label>
          <label>
            Official Link
            <input type="url" name="officialLink" placeholder="https://..." />
          </label>
          <label>
            Competition Location
            <input type="text" name="location" placeholder="Berlin Marathon" />
          </label>
          <label>
            Latitude
            <input type="number" name="lat" step="0.000001" placeholder="52.5200" />
          </label>
          <label>
            Longitude
            <input type="number" name="lng" step="0.000001" placeholder="13.4050" />
          </label>
          <label class="full">
            Notes
            <textarea name="notes" rows="2" placeholder="How did it feel?"></textarea>
          </label>
          <button type="submit" class="cta">Save Activity</button>
        </form>
      </section>

      <section class="panel">
        <h2>Daily & Weekly Routine</h2>
        <div class="routine-cards" id="routineCards"></div>
        <canvas id="volumeChart" height="220"></canvas>
        <canvas id="categoryChart" height="220"></canvas>
      </section>

      <section class="panel full-width">
        <div class="panel-header">
          <h2>Competition Map</h2>
          <p>Hover or click race markers to view official race link, time, distance, and placement.</p>
        </div>
        <form id="mapSettingsForm" class="map-settings">
          <label>
            Google Maps API Key (optional)
            <input type="text" id="googleMapsKey" placeholder="Paste your key to use Google Maps" />
          </label>
          <button type="submit" class="cta">Use Google Map</button>
          <small id="mapModeHint">Map mode: OpenStreetMap (default)</small>
        </form>
        <div id="map"></div>
      </section>

      <section class="panel">
        <h2>Recent Log</h2>
        <div id="activityList" class="stack"></div>
      </section>

      <section class="panel">
        <h2>Certificates</h2>
        <form id="certificateForm" class="grid-form">
          <label>
            Certificate Title
            <input type="text" name="title" placeholder="Berlin Marathon Finisher" required />
          </label>
          <label>
            Organization
            <input type="text" name="org" placeholder="Berlin Marathon" required />
          </label>
          <label>
            Date
            <input type="date" name="date" required />
          </label>
          <label class="full">
            Upload File
            <input type="file" name="file" accept="image/*,.pdf" required />
          </label>
          <button class="cta" type="submit">Upload Certificate</button>
        </form>
        <div id="certificateGallery" class="certificate-grid"></div>
      </section>
    </main>

    <footer>
      <p>
        Creative extras included: consistency streak, performance index, and quick filters. Replace sample
        data with your own sessions and races.
      </p>
    </footer>

    <script
      src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
      integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
      crossorigin=""
    ></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.3/dist/chart.umd.min.js"></script>
    <script src="script.js"></script>
  </body>
</html>
